# CloudTodo - 雲端共享待辦事項系統

## 目錄
- [功能特色](#功能特色)
- [系統架構](#系統架構)
- [使用說明](#使用說明)

---

## 功能特色

### 核心功能
- ✅ **使用者認證**：註冊、登入、驗證碼確認
- ✅ **任務管理**：新增、編輯、刪除、完成任務
- ✅ **多重分類**：工作、個人、學習、健康、其他 + 自訂分類
- ✅ **重要性標記**：0-3 星重要度分級
- ✅ **截止時間**：設定任務的截止日期和時間
- ✅ **任務共享**：與其他使用者共享任務
- ✅ **行事曆檢視**：以月曆形式查看所有任務
- ✅ **快速刪除**：一次性刪除所有已完成任務
- ✅ **深色模式**：支援淺色/深色主題切換

### 進階功能
- 🎨 **自訂分類**：建立專屬的任務分類並選擇顏色
- 📊 **任務統計**：各分類任務數量一目了然
- 🔍 **多種排序**：依重要性、日期等方式排序
- 💾 **雲端同步**：資料儲存在 AWS，跨裝置存取

---

## 系統架構

### 技術架構
```
前端 (HTML/CSS/JavaScript)
    ↓
Amazon Cognito (使用者認證)
    ↓
Amazon API Gateway (API 管理)
    ↓
AWS Lambda (後端邏輯)
    ↓
Amazon DynamoDB (資料儲存)
```

### 使用的 AWS 服務
- **Amazon Cognito**：使用者註冊、登入、驗證
- **API Gateway**：RESTful API 端點管理
- **AWS Lambda**：無伺服器運算（Node.js 18.x/20.x）
- **DynamoDB**：NoSQL 資料庫
  - `CloudTodo-Tasks` 表：儲存任務資料
  - `CloudTodo-SharedTasks` 表：儲存共享記錄

### 前端技術
- 純 HTML/CSS/JavaScript（無框架）
- AWS SDK for JavaScript (Cognito)
- Fetch API（API 呼叫）

---

## 使用說明

### 註冊與登入

#### 註冊新帳號
1. 點擊登入頁面下方的「還沒有帳號？註冊」
2. 輸入 Email 地址
3. 設定密碼（規則：至少8位，必須包含大小寫字母和數字）
4. 點擊「註冊」
5. 到 Email 信箱收取驗證碼（6位數字）
6. 在驗證頁面輸入驗證碼，點擊「驗證帳號」

#### 登入
1. 輸入註冊時使用的 Email
2. 輸入密碼
3. （可選）勾選「保持登入狀態」以自動記住登入
4. 點擊「登入」

---

### 任務管理

#### 新增任務
1. 點擊右下角的 **➕ 浮動按鈕**
2. 填寫任務資訊：
   - **標題**：必填，任務名稱
   - **重要性**：選擇 0-3 個驚嘆號（❗）
   - **分類**：選擇預設分類或自訂分類
   - **描述**：選填，詳細說明
   - **截止時間**：選填，選擇日期和時間
   - **共享對象**：選填，輸入 Email 後按 Enter 添加
3. 點擊「新增事項」

#### 編輯任務
1. 點擊任務卡片
2. 修改任務資訊
3. 點擊「儲存變更」

#### 完成任務
- 點擊任務卡片左側的 **✓ 圓形按鈕**
- 已完成的任務會顯示刪除線並變成灰色

#### 刪除任務
1. 點擊任務卡片進入編輯模式
2. 點擊下方的「刪除」按鈕
3. 確認刪除

---

### 分類管理

#### 使用預設分類
左側側邊欄提供以下預設分類：
- 🏠 **所有任務**：顯示全部任務
- 👥 **與我共用**：其他人分享給我的任務
- 🔵 **工作**：工作相關任務
- 🟢 **個人**：個人事務
- 🟣 **學習**：學習進修
- 🩷 **健康**：健康運動
- ⚫ **其他**：其他類型

#### 新增自訂分類
1. 點擊側邊欄底部的「➕ 新增分類」
2. 輸入分類名稱
3. 選擇顏色（12種顏色可選）
4. 點擊「新增」
5. 新分類會自動同步到雲端，在其他裝置登入也能看到

#### 刪除自訂分類
1. 點擊側邊欄底部的「🗑️ 刪除分類」
2. 選擇要刪除的分類
3. 點擊「刪除選中的分類」
4. ⚠️ 刪除分類後，該分類的任務會保留但分類標籤會變成「其他」

---

### 任務共享

#### 分享任務給其他人
**方法1：創建任務時分享**
1. 在新增任務時，「共享對象」欄位輸入對方的 Email
2. 按 Enter 或逗號添加（可添加多人）
3. 儲存任務後會自動分享

**方法2：已有任務分享**
1. 點擊任務卡片進入編輯
2. 在「共享對象」欄位輸入對方 Email
3. 點擊「儲存變更」完成分享

#### 共享權限說明
系統提供兩種共享權限：
- **唯讀（Read）**：被分享者只能查看任務，無法修改
- **編輯（Edit）**：被分享者可以修改任務內容，但無法刪除任務

> 💡 **注意**：只有任務的擁有者才能刪除任務或將任務分享給其他人

#### 查看任務的共享狀態
1. 點擊任務卡片進入編輯模式
2. 點擊「管理共享」按鈕
3. 可以看到所有有權訪問此任務的使用者列表

#### 修改共享權限
1. 在「管理共享」面板中
2. 找到要修改的使用者
3. 點擊權限下拉選單選擇新的權限
4. 系統會自動儲存

#### 移除共享
1. 在「管理共享」面板中
2. 找到要移除的使用者
3. 點擊「移除」按鈕
4. 該使用者將無法再訪問此任務

#### 查看與我共享的任務
1. 點擊左側側邊欄的「👥 與我共用」
2. 可以看到其他人分享給你的所有任務
3. 這些任務會標示擁有者的 Email 和你的權限

---

### 行事曆檢視

1. 點擊右下角的 **📅 行事曆按鈕**（在 ➕ 按鈕上方）
2. 用月曆方式查看所有任務
3. 有任務的日期會顯示小圓點（顏色對應分類）
4. 點擊日期可查看當天的所有任務
5. 使用左右箭頭切換月份

---

### 排序與篩選

#### 排序選項
點擊右上角的「排序」下拉選單，選擇：
- **預設**：依創建時間
- **重要性（高→低）**：最重要的任務在最前面
- **重要性（低→高）**：最不重要的任務在最前面
- **日期（新→舊）**：最新任務在最前面
- **日期（舊→新）**：最舊任務在最前面

#### 分類篩選
點擊左側邊欄的任何分類，只顯示該分類的任務

---

### 深色模式

點擊右上角導覽列的 **🌙/☀️ 圖示** 切換淺色/深色主題

---

### 帳號設定

點擊右上角的「設定」按鈕可以存取以下功能：

#### 修改密碼
1. 在設定頁面點擊「修改密碼」
2. 輸入目前密碼
3. 輸入新密碼（規則：至少8位，必須包含大小寫字母、數字和特殊符號）
4. 確認新密碼
5. 點擊「確認修改」

#### 清除已完成任務
1. 點擊「清除已完成任務」
2. 系統會一次性刪除所有標記為已完成的任務
3. ⚠️ **注意**：此操作無法復原

#### 封鎖名單管理
用於管理不希望接收其分享的使用者：
1. 點擊「封鎖名單」
2. 輸入要封鎖的 Email 地址
3. 點擊「新增封鎖」
4. 被封鎖的使用者無法將任務分享給你
5. 要解除封鎖，點擊名單中的「解除封鎖」按鈕

#### 刪除帳號
⚠️ **危險操作**：永久刪除帳號和所有資料
1. 點擊「刪除帳號」
2. 輸入密碼確認
3. 勾選「我了解此操作無法復原」
4. 點擊「確認刪除帳號」
5. 刪除後將清除：
   - 所有任務資料
   - 自訂分類設定
   - 共享記錄
   - Cognito 帳號

---

## 專案結構

```
CloudTodo/
├── index.html                    # 主頁面
├── script.js                     # 核心邏輯
├── api-client.js                 # API 呼叫封裝
├── sharing-ui.js                 # 共享功能 UI
├── cognito-config.js             # Cognito 認證配置
├── style.css                     # 樣式表
├── error.html                    # 錯誤頁面
├── README.md                     # 使用說明（本文件）
├── API說明.md                    # API 技術文檔
└── lambda/
    └── Lambda_function.js        # Lambda 函數（後端邏輯）